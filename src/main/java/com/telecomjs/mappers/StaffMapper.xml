<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.telecomjs.mappers.StaffMapper">
  <resultMap id="BaseResultMap" type="com.telecomjs.beans.Staff">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="STAFF_ID" jdbcType="DECIMAL" property="staffId" />
    <result column="NAME" jdbcType="VARCHAR" property="name" />
    <result column="MOBILE" jdbcType="VARCHAR" property="mobile" />
    <result column="IDENTIFIEDCODE" jdbcType="VARCHAR" property="identifiedcode" />
    <result column="CSS_STAFF_NUMBER" jdbcType="VARCHAR" property="cssStaffNumber" />
    <result column="BSS_STAFF_NUMBER" jdbcType="VARCHAR" property="bssStaffNumber" />
    <result column="PASSWORD" jdbcType="VARCHAR" property="password" />
    <result column="ROLE_ID" jdbcType="DECIMAL" property="roleId" />
    <result column="STATE" jdbcType="VARCHAR" property="state" />
    <result column="CREATE_DATE" jdbcType="TIMESTAMP" property="createDate" />
    <result column="STATE_DATE" jdbcType="TIMESTAMP" property="stateDate" />
  </resultMap>
  <sql id="Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    STAFF_ID, NAME, MOBILE, IDENTIFIEDCODE, CSS_STAFF_NUMBER, BSS_STAFF_NUMBER, PASSWORD, 
    ROLE_ID, STATE, CREATE_DATE, STATE_DATE
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from STAFF
    where STAFF_ID = #{staffId,jdbcType=DECIMAL}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from STAFF
    where STAFF_ID = #{staffId,jdbcType=DECIMAL}
  </delete>
  <insert id="insert" parameterType="com.telecomjs.beans.Staff">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into STAFF (STAFF_ID, NAME, MOBILE, 
      IDENTIFIEDCODE, CSS_STAFF_NUMBER, BSS_STAFF_NUMBER, 
      PASSWORD, ROLE_ID, STATE, 
      CREATE_DATE, STATE_DATE)
    values (#{staffId,jdbcType=DECIMAL}, #{name,jdbcType=VARCHAR}, #{mobile,jdbcType=VARCHAR}, 
      #{identifiedcode,jdbcType=VARCHAR}, #{cssStaffNumber,jdbcType=VARCHAR}, #{bssStaffNumber,jdbcType=VARCHAR}, 
      #{password,jdbcType=VARCHAR}, #{roleId,jdbcType=DECIMAL}, #{state,jdbcType=VARCHAR}, 
      #{createDate,jdbcType=TIMESTAMP}, #{stateDate,jdbcType=TIMESTAMP})
  </insert>
  <insert id="insertSelective" parameterType="com.telecomjs.beans.Staff">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into STAFF
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="staffId != null">
        STAFF_ID,
      </if>
      <if test="name != null">
        NAME,
      </if>
      <if test="mobile != null">
        MOBILE,
      </if>
      <if test="identifiedcode != null">
        IDENTIFIEDCODE,
      </if>
      <if test="cssStaffNumber != null">
        CSS_STAFF_NUMBER,
      </if>
      <if test="bssStaffNumber != null">
        BSS_STAFF_NUMBER,
      </if>
      <if test="password != null">
        PASSWORD,
      </if>
      <if test="roleId != null">
        ROLE_ID,
      </if>
      <if test="state != null">
        STATE,
      </if>
      <if test="createDate != null">
        CREATE_DATE,
      </if>
      <if test="stateDate != null">
        STATE_DATE,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="staffId != null">
        #{staffId,jdbcType=DECIMAL},
      </if>
      <if test="name != null">
        #{name,jdbcType=VARCHAR},
      </if>
      <if test="mobile != null">
        #{mobile,jdbcType=VARCHAR},
      </if>
      <if test="identifiedcode != null">
        #{identifiedcode,jdbcType=VARCHAR},
      </if>
      <if test="cssStaffNumber != null">
        #{cssStaffNumber,jdbcType=VARCHAR},
      </if>
      <if test="bssStaffNumber != null">
        #{bssStaffNumber,jdbcType=VARCHAR},
      </if>
      <if test="password != null">
        #{password,jdbcType=VARCHAR},
      </if>
      <if test="roleId != null">
        #{roleId,jdbcType=DECIMAL},
      </if>
      <if test="state != null">
        #{state,jdbcType=VARCHAR},
      </if>
      <if test="createDate != null">
        #{createDate,jdbcType=TIMESTAMP},
      </if>
      <if test="stateDate != null">
        #{stateDate,jdbcType=TIMESTAMP},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.telecomjs.beans.StaffExample" resultType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select count(*) from STAFF
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByPrimaryKeySelective" parameterType="com.telecomjs.beans.Staff">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update STAFF
    <set>
      <if test="name != null">
        NAME = #{name,jdbcType=VARCHAR},
      </if>
      <if test="mobile != null">
        MOBILE = #{mobile,jdbcType=VARCHAR},
      </if>
      <if test="identifiedcode != null">
        IDENTIFIEDCODE = #{identifiedcode,jdbcType=VARCHAR},
      </if>
      <if test="cssStaffNumber != null">
        CSS_STAFF_NUMBER = #{cssStaffNumber,jdbcType=VARCHAR},
      </if>
      <if test="bssStaffNumber != null">
        BSS_STAFF_NUMBER = #{bssStaffNumber,jdbcType=VARCHAR},
      </if>
      <if test="password != null">
        PASSWORD = #{password,jdbcType=VARCHAR},
      </if>
      <if test="roleId != null">
        ROLE_ID = #{roleId,jdbcType=DECIMAL},
      </if>
      <if test="state != null">
        STATE = #{state,jdbcType=VARCHAR},
      </if>
      <if test="createDate != null">
        CREATE_DATE = #{createDate,jdbcType=TIMESTAMP},
      </if>
      <if test="stateDate != null">
        STATE_DATE = #{stateDate,jdbcType=TIMESTAMP},
      </if>
    </set>
    where STAFF_ID = #{staffId,jdbcType=DECIMAL}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.telecomjs.beans.Staff">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update STAFF
    set NAME = #{name,jdbcType=VARCHAR},
      MOBILE = #{mobile,jdbcType=VARCHAR},
      IDENTIFIEDCODE = #{identifiedcode,jdbcType=VARCHAR},
      CSS_STAFF_NUMBER = #{cssStaffNumber,jdbcType=VARCHAR},
      BSS_STAFF_NUMBER = #{bssStaffNumber,jdbcType=VARCHAR},
      PASSWORD = #{password,jdbcType=VARCHAR},
      ROLE_ID = #{roleId,jdbcType=DECIMAL},
      STATE = #{state,jdbcType=VARCHAR},
      CREATE_DATE = #{createDate,jdbcType=TIMESTAMP},
      STATE_DATE = #{stateDate,jdbcType=TIMESTAMP}
    where STAFF_ID = #{staffId,jdbcType=DECIMAL}
  </update>
  <delete id="safeDeleteByStaffId">
    UPDATE STAFF
    SET state = 'CLS',state_date = sysdate
    WHERE staff_id = #{staffId}
  </delete>
    <select id="findAll" resultMap="BaseResultMap">
      SELECT
      <include refid="Base_Column_List" />
      FROM staff
      WHERE 1=1
    </select>
  <select id="findStaffByUser" resultMap="BaseResultMap">

    SELECT
      <include refid="Base_Column_List" />
      FROM staff
      WHERE css_staff_number = #{cssStaffNumber}
  </select>
  <select id="getPrimaryKey" resultType="java.lang.Integer">
    SELECT  SEQ_STAFF_ID.NEXTVAL as id FROM dual
  </select>
  <select id="findStaffByMobile" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List" />
    from STAFF
    where mobile = #{mobile}
  </select>
  <select id="findStaffByZone" resultMap="BaseResultMap">
    SELECT <include refid="Base_Column_List" />
    FROM  STAFF
    WHERE css_staff_number in
    (select ASSIST_NUM from APP_YDBP_AREA_ZWSTAFF
     WHERE  AREA_ID_TM = #{zoneId})
  </select>
  <select id="findStaffByDistrict" resultMap="BaseResultMap">
    SELECT <include refid="Base_Column_List" />
    FROM  STAFF
    WHERE css_staff_number in
    (select ASSIST_NUM from APP_YDBP_AREA_ZWSTAFF
    WHERE  AREA_ID_L2 = #{districtId})
  </select>
  <select id="findStaffByArea" resultMap="BaseResultMap">
    SELECT <include refid="Base_Column_List" />
    FROM  STAFF
    WHERE css_staff_number in
    (select ASSIST_NUM from APP_YDBP_AREA_ZWSTAFF
    WHERE  AREA_ID  = #{areaId})
  </select>
  <select id="findStaffWithoutCss" resultMap="BaseResultMap">
    SELECT <include refid="Base_Column_List" />
    FROM  STAFF
    WHERE css_staff_number is null
  </select>
  <select id="findZoneByStaff" resultType="java.lang.String">
    select area_id_tm as zone_id from APP_YDBP_AREA_ZWSTAFF where assist_Num = #{cssNumber}
  </select>
    <select id="findZoneStaffById" resultMap="BaseResultMap">
      SELECT <include refid="Base_Column_List" />
      FROM staff where css_staff_number in (
        select ASSIST_NUM from app_ydbp_area_zwstaff
        where area_id_tm in (
          select area_id_tm from staff a,app_ydbp_area_zwstaff b
          where a.css_staff_number = b.ASSIST_NUM
          and a.staff_id = #{staffId}
          )
      )
    </select>
  <select id="findDistrictByStaff" resultType="java.lang.String">
    select AREA_ID_L2 from APP_YDBP_AREA_STAFF where CEO_ASSIST_NUM=#{cssNumber}
  </select>
  <select id="findAreaByStaff" resultType="java.lang.String">
    select AREA_ID from APP_YDBP_AREA_STAFF where CEO_ASSIST_NUM=#{cssNumber}
  </select>
</mapper>